[{"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\index.js":"1","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\reducers\\rootReducer.js":"2","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\reducers\\userReducer.js":"3","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\routes.js":"4","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\Header.js":"5","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\views\\Home.js":"6","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\views\\Login.js":"7","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\actions\\userAction.js":"8","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\api\\userApi.js":"9","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\utils\\toasts.js":"10","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\AutoSignIn.js":"11"},{"size":729,"mtime":1611326021929,"results":"12","hashOfConfig":"13"},{"size":177,"mtime":1611326475143,"results":"14","hashOfConfig":"13"},{"size":302,"mtime":1611335104733,"results":"15","hashOfConfig":"13"},{"size":961,"mtime":1611350406400,"results":"16","hashOfConfig":"13"},{"size":1675,"mtime":1611356896525,"results":"17","hashOfConfig":"13"},{"size":155,"mtime":1611327426399,"results":"18","hashOfConfig":"13"},{"size":4369,"mtime":1611349336605,"results":"19","hashOfConfig":"13"},{"size":587,"mtime":1611356735373,"results":"20","hashOfConfig":"13"},{"size":2418,"mtime":1611351122005,"results":"21","hashOfConfig":"13"},{"size":504,"mtime":1611343851138,"results":"22","hashOfConfig":"13"},{"size":802,"mtime":1611352560906,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"jl2et",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\index.js",[],["49","50"],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\reducers\\rootReducer.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\reducers\\userReducer.js",["51","52"],"//rfc\r\nimport React from 'react'\r\nimport { AUTH_USER } from '../constants/userConstant'\r\n\r\n\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case AUTH_USER:\r\n            return { ...state, ...action.payload }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\routes.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\Header.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\views\\Home.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\views\\Login.js",["53","54"],"//rsc\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Form, Button, Row, Col, Alert, Toast } from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport ToastHandler from '../components/utils/toasts'\r\n\r\nimport { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nimport { useDispatch } from 'react-redux'\r\nimport { signupUser, loginUser } from '../store/actions/userAction'\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const [type, setType] = useState(true)\r\n    \r\n    const formik = useFormik({\r\n        initialValues:{\r\n            email:'',\r\n            password:''\r\n        },\r\n        validationSchema: Yup.object({\r\n            email: Yup.string()\r\n                .email('Invalid email')\r\n                .required('Sorry the email is required'),\r\n            \r\n            password: Yup.string()\r\n                .min(3, 'Must be more than 5 char')\r\n                .required('Sorry the password is required')\r\n        }),\r\n        onSubmit: values => { \r\n           onSubmitHandler(values)\r\n        }\r\n    }) \r\n\r\n    const switchTypeHandler = () => {\r\n        setType(!type)\r\n    }\r\n\r\n    const onSubmitHandler = (values) => {\r\n        if(type){\r\n            // sign in\r\n            dispatch(loginUser(values))\r\n                .then(({ payload }) => {\r\n                    successHandler(payload)\r\n                })\r\n        } else {\r\n            // register\r\n            dispatch(signupUser(values))\r\n                .then(({ payload }) => {\r\n                    successHandler(payload)\r\n                })\r\n        }\r\n    }\r\n\r\n    const successHandler = (payload) => {\r\n        const errors = payload.errors\r\n        const auth = payload.auth\r\n\r\n        if (errors) { ToastHandler(errors, 'ERROR') }\r\n\r\n        if (auth) {\r\n            localStorage.setItem('X-AUTH', auth.token)\r\n            axios.defaults.headers.common['Authorization'] = 'Bearer ' + auth.token\r\n            ToastHandler('Welcome', 'SUCCESS')\r\n            props.history.push('/user-area')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={formik.handleSubmit}>\r\n                <Row className=\"mb-4\">\r\n                    <Col>\r\n                        <h1>Sign in / Register</h1>\r\n                    </Col>\r\n                </Row>\r\n                <Form.Group>\r\n                    <Form.Label>Email Address</Form.Label>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Enter your email\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        onChange={formik.handleChange}\r\n                        onBlur={formik.handleBlur}\r\n                        value={formik.values.email}\r\n                    />\r\n                    { formik.touched.email && formik.errors.email ? (\r\n                        <Alert variant=\"danger\">\r\n                            {formik.errors.email}\r\n                        </Alert>\r\n                    ) :null}\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Enter your password\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        onChange={formik.handleChange}\r\n                        onBlur={formik.handleBlur}\r\n                        value={formik.values.password}\r\n                    />\r\n                    { formik.touched.password && formik.errors.password ? (\r\n                        <Alert variant=\"danger\">\r\n                            {formik.errors.password}\r\n                        </Alert>\r\n                    ) :null}\r\n                </Form.Group>\r\n\r\n                { type ?\r\n                    <Button variant=\"primary\" type=\"submit\">Sign in</Button>\r\n                    :\r\n                    <Button variant=\"primary\" type=\"submit\">Register</Button>\r\n                }\r\n                <Button\r\n                    variant=\"secondary\"\r\n                    className=\"ml-2\"\r\n                    onClick={switchTypeHandler}\r\n                >\r\n                    Already { type ? 'Signed in': 'Registered'} ? click here\r\n                </Button>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login","C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\actions\\userAction.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\store\\api\\userApi.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\utils\\toasts.js",[],"C:\\Users\\majdd\\Desktop\\GArticle\\client\\src\\components\\AutoSignIn.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":2,"column":8,"nodeType":"61","messageId":"62","endLine":2,"endColumn":13},{"ruleId":"63","severity":1,"message":"64","line":7,"column":1,"nodeType":"65","endLine":14,"endColumn":2},{"ruleId":"59","severity":1,"message":"66","line":2,"column":27,"nodeType":"61","messageId":"62","endLine":2,"endColumn":36},{"ruleId":"59","severity":1,"message":"67","line":3,"column":41,"nodeType":"61","messageId":"62","endLine":3,"endColumn":46},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","'useEffect' is defined but never used.","'Toast' is defined but never used.","no-global-assign","no-unsafe-negation"]